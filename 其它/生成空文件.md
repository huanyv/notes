# 生成空文件

* 生成指定大小的空的文件，方便用于测试

## Windows

* 使用`fsutil file createNew`

```cmd
fsutil file createNew <文件名> <长度(byte)>
```

## Linux

```sh
dd if=/dev/zero of=<fileName> bs=<一次复制的大小> count=<复制的次数>

生成 50 MB 的空文件：
dd if=/dev/zero of=50M-1.txt bs=1M count=50
```


## Java

### FileChannel

```java
private static void createFixLengthFile(File file, long length) throws IOException {
	FileOutputStream fos = null;
	FileChannel outC = null;
	try {
		fos = new FileOutputStream(file);
		outC = fos.getChannel();
		// 从给定的文件位置开始，将字节序列从给定缓冲区写入此通道
		// ByteBuffer.allocate 分配一个新的字节缓冲区
		outC.write(ByteBuffer.allocate(1), length - 1);
	} finally {
		try {
			if (outC != null) {
				outC.close();
			}
			if (fos != null) {
				fos.close();
			}
		} catch (IOException e1) {
			e1.printStackTrace();
		}
	}
}
```

### RandomAccessFile

```java
private static void createFile(File file, long length) throws IOException {
	RandomAccessFile r = null;
	try {
		r = new RandomAccessFile(file, "rw");
		r.setLength(length);
	} finally {
		if (r != null) {
			r.close();
		}
	}
}
```



